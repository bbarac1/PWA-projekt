<!DOCTYPE html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="style.css">
    <title>Vijesti - Bruno Barac</title>
</head>

<body>
    <header>
        <img src="lexpress.svg" alt="LExpress" class="logo" />

        <nav>
            <ul>
                <li><a href="index.php">Početna</a></li>
                <li><a href="kategorija.php?kat=Aktualno">Aktualno</a></li>
                <li><a href="kategorija.php?kat=Crna kronika">Crna kronika</a></li>
                <li><a href="kategorija.php?kat=Politika">Politika</a></li>
                <li><a href="kategorija.php?kat=Tehnologija">Tehnologija</a></li>
                <li class="admin"><a href="odjava.php">Odjava</a></li>
                <li class="admin"><a href="prijava.php">Admin</a></li>
            </ul>
        </nav>
    </header>
    <section>
        <form enctype="multipart/form-data" action="http://localhost/PWA-projekt-master/skripta.php" method="POST">
            <div class="form-item">

                <label for="naslov">Naslov vijesti</label>
                <div class="form-field"> <input type="text" name="naslov" id="naslov" class="form-field-textual"> </div>
                <span id="porukaNaslov" class="bojaPoruke"></span>
            </div>
            <div class="form-item">

                <label for="ukratko">Kratki sadržaj vijesti (do 50 znakova)</label>
                <div class="form-field"> <textarea name="ukratko" id="ukratko" cols="50" rows="5" class="form-field-textual"></textarea>
                </div>
                <span id="porukaUkratko" class="bojaPoruke"></span>
            </div>
            <div class="form-item">
                <label for="sadrzaj">Sadržaj vijesti</label>
                <div class="form-field"> <textarea name="sadrzaj" id="sadrzaj" cols="60" rows="20" class="form-field-textual"></textarea> </div>
                <span id="porukaSadrzaj" class="bojaPoruke"></span>
            </div>
            <div class="form-item">
                <label for="slika">Slika: </label>
                <div class="form-field"> <input type="file" accept="image/gif,image/jpeg,image/jpg,image/png" class="input-text" name="slika" id="slika" /> </div>
                <span id="porukaSlika" class="bojaPoruke"></span>
            </div>
            <div class="form-item">
                <label for="kategorija">Kategorija vijesti</label>
                <div class="form-field"> <select name="kategorija" id="kategorija" class="form-field-textual">
                    <option value="" disabled selected>Odabir kategorije</option>
                    <option value="Aktualno">Aktualno</option>
                    <option value="Crna kronika">Crna kronika</option>
                    <option value="Politika">Politika</option>
                    <option value="Tehnologija">Tehnologija</option>
                </select></div>
                <span id="porukaKategorija" class="bojaPoruke"></span>
            </div>
            <div class="form-item">
                <label for="arhiva">Spremiti u arhivu: <div class="form-field"> <input type="checkbox" name="arhiva">
                    </div> </label> </div>
            <div class="form-item">
                <button type="reset" value="Poništi">Poništi</button>
                <button type="submit" name="submit" value="Prihvati" id="Prihvati" onclick="provjera()">Prihvati</button> </div>
        </form>
    </section>

    <script type="text/javascript">
        // Provjera forme prije slanja 
        function provjera() {

            var slanjeForme = true; // Naslov vijesti (5-30 znakova) 
            var poljeNaslov = document.getElementById("naslov");
            var naslov = document.getElementById("naslov").value;
            if (naslov.length < 5 || naslov.length > 30) {
                slanjeForme = false;
                poljeNaslov.style.border = "1px dashed red";
                document.getElementById("porukaNaslov").innerHTML = "Naslov vijesti mora imati između 5 i 30 znakova!<br>";
            } else {
                poljeNaslov.style.border = "1px solid green";
                document.getElementById("porukaNaslov").innerHTML = "";
            }
            var poljeUkratko = document.getElementById("ukratko");
            var ukratko = document.getElementById("ukratko").value;
            if (ukratko.length < 10 || ukratko.length > 100) {
                slanjeForme = false;
                poljeUkratko.style.border = "1px dashed red";
                document.getElementById("porukaUkratko").innerHTML = "Kratki sadržaj mora imati između 10 i 100 znakova!<br>";
            } else {
                poljeUkratko.style.border = "1px solid green";
                document.getElementById("porukaUkratko").innerHTML = "";
            }
            var poljeSadrzaj = document.getElementById("sadrzaj");
            var sadrzaj = document.getElementById("sadrzaj").value;
            if (sadrzaj.length == 0) {
                slanjeForme = false;
                poljeSadrzaj.style.border = "1px dashed red";
                document.getElementById("porukaSadrzaj").innerHTML = "Sadržaj mora biti unesen!<br>";
            } else {
                poljeSadrzaj.style.border = "1px solid green";
                document.getElementById("porukaSadrzaj").innerHTML = "";
            }
            var poljeSlika = document.getElementById("slika");
            var slika = document.getElementById("slika").value;
            if (slika.length == 0) {
                slanjeForme = false;
                poljeSlika.style.border = "1px dashed red";
                document.getElementById("porukaSlika").innerHTML = "Slika mora biti unesena!<br>";
            } else {
                poljeSlika.style.border = "1px solid green";
                document.getElementById("porukaSlika").innerHTML = "";
            }
            var poljeKategorija = document.getElementById("kategorija");
            if (document.getElementById("kategorija").selectedIndex == 0) {
                slanjeForme = false;
                poljeKategorija.style.border = "1px dashed red";
                document.getElementById("porukaKategorija").innerHTML = "Kategorija mora biti odabrana!<br>";
            } else {
                poljeKategorija.style.border = "1px solid green";
                document.getElementById("porukaKategorija").innerHTML = "";
            }
            if (slanjeForme != true) {
                event.preventDefault();
            }
        };
    </script>
    <footer>
        <p>Autor: Bruno Barac | </p>
        <p>e-mail: <a href="mailto:bbarac1@vvg.hr">bbarac1@vvg.hr</a>. | </p>
        <p>2025.</p>
    </footer>
</body>